#!/usr/bin/env bash
# pre-commit hook que actualiza CHANGELOG.md autom√°ticamente

# Comprobar si git-changelog est√° instalado
if command -v git-changelog >/dev/null 2>&1; then
  echo "üîÑ Generando CHANGELOG.md..."
  git-changelog -o CHANGELOG.md

  # Si el archivo cambi√≥, lo a√±adimos al commit
  if ! git diff --quiet -- CHANGELOG.md; then
    git add CHANGELOG.md
    echo "‚úÖ CHANGELOG.md actualizado y agregado al commit."
  fi
else
  echo "‚ö†Ô∏è git-changelog no est√° instalado. Ejecuta: pip install git-changelog"
fi
